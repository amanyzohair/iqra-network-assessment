<main class="content w-1/2 rounded-lg bg-cyan-200 mx-auto mt-8" role="main">
  <div class="mx-auto p-4">
    <div class="flex items-center justify-between mb-4">
      <h1 class="text-2xl">Task Manager</h1>
      <span>({{ store.completedTodos() }} / {{ store.todos().length }})</span>
    </div>

    <!-- Task Input -->
    <div class="mb-4">
      <input
        class="p-2 border rounded mr-2"
        placeholder="New task..."
        [(ngModel)]="title"
        required="true"
      />
      <button
        class="text-white font-medium rounded-lg text-sm px-5 py-2.5 text-center me-2 mb-2"
        [ngClass]="
          !title()
            ? 'bg-slate-300'
            : 'bg-gradient-to-r from-cyan-500 to-blue-500 hover:bg-gradient-to-bl focus:ring-4 focus:outline-none focus:ring-cyan-300'
        "
        (click)="addTodoItem()"
        [disabled]="!title()"
      >
        Add
      </button>
    </div>

    <!-- Task List -->
    <ul>
      @for (task of store.todos() ; track task.id) {
      <li class="mb-2 flex gap-4 items-center cursor-pointer hover:opacity-70">
        <input
          type="checkbox"
          [checked]="task.completed"
          (change)="store.toggleTodo(task.id)"
          [id]="task.id"
        />
        <label
          class="cursor-pointer"
          [for]="task.id"
          [ngClass]="{ 'line-through': task.completed }"
          >{{ task.title }}
        </label>
      </li>
      }
    </ul>

    <!-- Filters -->
    <div class="mt-4">
      <button
        class="mr-2 text-white bg-gradient-to-r from-teal-400 via-teal-500 to-teal-600 hover:bg-gradient-to-br focus:ring-4 focus:outline-none focus:ring-teal-300 dark:focus:ring-teal-800 font-medium rounded-lg text-sm px-5 py-2.5 text-center me-2 mb-2"
      >
        All
      </button>
      <button
        class="mr-2 text-white bg-gradient-to-r from-blue-500 via-blue-600 to-blue-700 hover:bg-gradient-to-br focus:ring-4 focus:outline-none focus:ring-blue-300 dark:focus:ring-blue-800 font-medium rounded-lg text-sm px-5 py-2.5 text-center me-2 mb-2"
      >
        Active
      </button>
      <button
        class="text-white bg-gradient-to-r from-cyan-400 via-cyan-500 to-cyan-600 hover:bg-gradient-to-br focus:ring-4 focus:outline-none focus:ring-cyan-300 dark:focus:ring-cyan-800 font-medium rounded-lg text-sm px-5 py-2.5 text-center me-2 mb-2"
      >
        Completed
      </button>
    </div>
  </div>
</main>
